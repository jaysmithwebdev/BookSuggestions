<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Me!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;500&family=Satisfy&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="/style/style.css" />
  </head>
  <!-- --------------------------------------------------------------------- -->
  <body>
    <div class="container main-container">
      <!-- LEFT/TOP -------------------------------------------------------- -->

      <div class="left-or-top-container">
        <div>
          <h1>Book Me</h1>
        </div>

        <form action="/submit" method="post">
          <div class="form-container">
            <div class="form-item">
              <input
                type="text"
                name="author"
                placeholder="Type an author, or"
              />
            </div>
            <div class="form-item">
              <input
                type="text"
                name="genre"
                placeholder="Or type an interest"
              />
            </div>
            <div class="form-item">
              <input type="submit" class="submit" value="Book Me Now!" />
            </div>
          </div>
        </form>
      </div>
      <!-- RIGHT/BOTTOM ---------------------------------------------------- -->
      <div class="book-container">
        <div id="carouselExampleIndicators" class="carousel slide">
          <!-- if there are more that 1 slides to display, show nav buttons -->
          <% if (locals[1]) { %>
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="3"
              aria-label="Slide 4"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="4"
              aria-label="Slide 5"
            ></button>
          </div>
          <% } %>
          <!-- 1 carousel item will always show -->
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="<%= locals[0].path %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-md-block">
                <h2><%= locals[0].title %></h2>
                <h4><%= locals[0].author %></h4>
              </div>
            </div>
            <!-- after /submit path, there will be a total of 5 slides to add to the carousel -->
            <% if (locals[1]) {%>
            <div class="carousel-item">
              <img
                src="<%= locals[1].path %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-md-block">
                <h2><%= locals[1].title %></h2>
                <h4><%= locals[1].author %></h4>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="<%= locals[2].path %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-md-block">
                <h2><%= locals[2].title %></h2>
                <h4><%= locals[2].author %></h4>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="<%= locals[3].path %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-md-block">
                <h2><%= locals[3].title %></h2>
                <h4><%= locals[3].author %></h4>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="<%= locals[4].path %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-md-block">
                <h2><%= locals[4].title %></h2>
                <h4><%= locals[4].author %></h4>
              </div>
            </div>
            <%} %>
          </div>
          <!-- if more that 1 slide, show prev/next carousel buttons -->
          <% if (locals[1]) { %>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
          <% } %>
        </div>
      </div>
    </div>
    <!-- FOOTER ------------------------------------------------------------ -->
    <div class="footer">
      <p>This app is a learning exercise only.</p>
      <p>Copyright JSWebDev <%= new Date().getFullYear() %>.</p>
      <p>
        <a href="https://openlibrary.org/dev/docs/api"
          ><img src="/images/openlibrary-logo.svg" class="ol-logo" alt=""
        /></a>
      </p>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
